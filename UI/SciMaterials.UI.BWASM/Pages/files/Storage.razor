@page "/storage"
@using System.Net.Http.Json
@inject NavigationManager NavigationManager
@inject HttpClient httpClient

<MudText Class="mb-5" Typo="Typo.h3" Align="Align.Start">Files</MudText>
<MudStack Justify="Justify.FlexEnd" Row="true">
    <MudSelect @bind-Value="filterValue" Label="Filter" AdornmentIcon="@Icons.Material.Filled.FilterList">
        <MudSelectItem Value="@("Filter #1")" />
        <MudSelectItem Value="@("Filter #2")" />
        <MudSelectItem Value="@("Filter #3")" />
    </MudSelect>
    <MudText Typo="Typo.subtitle1" Align="Align.Start">Sort by:</MudText>
    <MudSelect @bind-Value="sortValue" Dense="true" T="string" Variant="Variant.Text">
        <MudSelectItem Value="@("Sort #1")" />
        <MudSelectItem Value="@("Sort #2")" />
        <MudSelectItem Value="@("Sort #3")" />
    </MudSelect>
</MudStack>
<MudGrid Spacing="@spacing" Justify="Justify.FlexStart">

    @foreach (var id in Ids)
    {
        <MudItem>
            <MudButton Class="rounded-lg d-flex flex-column align-center justify-center mud-width-full px-1 py-1"
                   Variant="Variant.Text" Color="Color.Primary" OnClick="() => FileDetailsUrl(id)" Style="width: 150px;;">
                <MudCard Class="rounded-lg d-flex flex-column align-center justify-center mud-width-full mx-0 pa-1">
                    <MudIcon Icon="@Icons.Material.Filled.Folder" Title="API" Style="font-size: 4rem;" />
                    <MudCardContent>
                        <MudText Typo="Typo.subtitle1" Align="Align.Start">File #@id</MudText>
                    </MudCardContent>
                </MudCard>
            </MudButton>
        </MudItem>
    }

</MudGrid>


@code {
    private IEnumerable<int> Ids;
    public int spacing { get; set; } = 2;
    private string filterValue { get; set; }
    private string sortValue { get; set; }
    protected override async Task OnInitializedAsync()
    {
    
        Ids = Enumerable.Range(1, 10);
    }

    private void FileDetailsUrl(int id)
    {
        NavigationManager.NavigateTo($"/filedetails/{id}");
    }
}